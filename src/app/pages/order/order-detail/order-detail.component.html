<div class="account-layout">
  <app-account-sidebar></app-account-sidebar>

  <div class="account-content">
    <div *ngIf="!loading && order" class="order-detail-container">
      <div class="order-card">
        <div class="order-summary-header d-flex align-items-center gap-3 mb-3">
          <h2 class="mb-0"><i class="bi bi-receipt"></i> Order Summary</h2>
        </div>
        <div class="order-summary-details mb-3">
          <div><strong>Payment Method: </strong> 
            <span class="badge badge-info">{{ order.paymentMethod }}</span>
          </div>
          <div><strong>Payment Status: </strong> 
            <span class="badge badge-info">{{ order.paymentStatus }}</span>
          </div>
          <div><strong>Delivery Status:</strong> {{ order.deliveryStatus }}</div>
          <div><strong>Order Date:</strong> {{ order.orderDate | date:'medium' }}</div>
        </div>
        <hr />
    
        <h4 class="mb-3">ðŸ“¦ Ordered Items</h4>
        <div *ngFor="let item of order.items" class="item-row">
          <div class="d-flex align-items-center gap-3">
            <img [src]="item.primaryImageUrl || 'assets/placeholder-image.jpg'"
                 [alt]="item.productName"
                 class="product-thumbnail" />
            <div>
              <strong>{{ item.productName }}</strong>
              <div class="text-muted">x{{ item.quantity }}</div>
            </div>
          </div>
          <div class="price">RM {{ item.subtotal.toFixed(2) }}</div>
        </div>
    
        <hr />
    
        <div class="summary">
          <div><span>Subtotal:</span><span>RM {{ order.totalAmount.toFixed(2) }}</span></div>
          <div><span>Shipping:</span><span>RM {{ order.shippingCost.toFixed(2) }}</span></div>
          <div class="total">
            <span>Total:</span>
            <span>RM {{ order.grandTotal.toFixed(2) }}</span>
          </div>
        </div>
      </div>
    </div>
    
  </div>
</div>